jQuery.fn.sortElements=function(){
var e=[].sort;return function(t,n){n=n||function(){return this};var r=this.map(function(){var e=n.call(this),t=e.parentNode,r=t.insertBefore(document.createTextNode(""),e.nextSibling);return function(){if(t===this){throw new Error("You can't sort elements if any one is a descendant of another.")}t.insertBefore(this,r);t.removeChild(r)}});return e.call(this,t).each(function(e){r[e].call(n.call(this))})}}();var table=$("table#ljSortable");$("table#ljSortable th").each(function(){var e=$(this),t=e.index(),n=false;e.click(function(){table.find("td").filter(function(){return $(this).index()===t}).sortElements(function(e,t){return $.text([e])>$.text([t])?n?-1:1:n?1:-1},function(){return this.parentNode});n=!n})})